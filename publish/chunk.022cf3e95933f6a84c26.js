(window.webpackJsonp=window.webpackJsonp||[]).push([[13,11],{169:function(t,e,s){"use strict";var i=s(22),a=s(32),n=s(33),r=s(34),o=s(77),c=s(175);const l=(t,e)=>{const{type:s,value:i}=e;let a;if(i)return a="percentage"===s?t*(100-i)/100:t-i,a>0?a:0};var u={name:"APrices",props:{product:{type:Object,required:!0},isLiteral:Boolean,isBig:Boolean,isAmountTotal:Boolean,installmentsOption:Object,discountOption:Object,discountText:{type:[String,Boolean],default:""},canShowPriceOptions:{type:Boolean,default:!0}},data(){return{installmentsNumber:0,monthlyInterest:0,discount:{type:null,value:0},extraDiscount:{type:null,value:0,min_amount:0},discountLabel:this.discountText,pointsProgramName:null,pointsMinPrice:0,earnPointsFactor:0}},computed:{i19asOf:()=>Object(a.a)(i.r),i19from:()=>Object(a.a)(i.Db),i19interestFree:()=>Object(a.a)(i.Rb),i19of:()=>Object(a.a)(i.Bc),i19to:()=>Object(a.a)(i.Yd),i19upTo:()=>Object(a.a)(i.je),i19youEarn:()=>Object(a.a)(i.re),price(){const t=Object(n.a)(this.product);return this.extraDiscount.value&&(!this.extraDiscount.min_amount||t>this.extraDiscount.min_amount)?l(t,this.extraDiscount):t},comparePrice(){return Object(r.a)(this.product)?this.product.base_price:this.extraDiscount.value?Object(n.a)(this.product):void 0},hasVariedPrices(){const{variations:t}=this.product;if(t){const e=Object(n.a)(this.product);for(let s=0;s<t.length;s++){if(Object(n.a)({...this.product,...t[s]})>e)return!0}}return!1},priceWithDiscount(){return this.canShowPriceOptions&&l(this.price,this.discount)},installmentValue(){if(this.canShowPriceOptions&&this.installmentsNumber>=2){if(this.monthlyInterest){const t=this.monthlyInterest/100;return this.price*t/(1-Math.pow(1+t,-this.installmentsNumber))}return this.price/this.installmentsNumber}return 0}},methods:{formatMoney:o.a,updateInstallments(t){if(t){this.monthlyInterest=3.1458;const e=t.min_installment||5,s=parseInt(this.price/e,10);this.installmentsNumber=Math.min(s,t.max_number)}},updateDiscount(t){!t||t.min_amount&&!(t.min_amount<=this.price)||this.isAmountTotal&&"total"!==t.apply_at||(this.discount=t,!this.discountText&&!1!==this.discountText&&t.label&&(this.discountLabel=`via ${t.label}`))}},watch:{price:{handler(t){this.$emit("fix-price",t)},immediate:!0}},created(){this.canShowPriceOptions&&(this.discountOption?this.updateDiscount(this.discountOption):Object(c.a)("apply_discount").then((t=>{t.available_extra_discount&&(this.extraDiscount=t.available_extra_discount)})),this.installmentsOption?this.updateInstallments(this.installmentsOption):Object(c.a)("list_payments").then((t=>{this.updateInstallments(t.installments_option),this.updateDiscount(t.discount_option);const e=t.loyalty_points_programs;this.isLiteral&&e&&this.$nextTick((()=>{for(const t in e){const s=e[t];if(s&&s.earn_percentage>0){this.pointsMinPrice=s.min_subtotal_to_earn,this.pointsProgramName=s.name,this.earnPointsFactor=s.earn_percentage/100;break}}}))})))}};e.a=u},174:function(t,e,s){"use strict";s(189)},175:function(t,e,s){"use strict";e.a=(t,e)=>new Promise((s=>{const i="object"==typeof window&&window.storefront;if(i){const a=()=>{let a=i.info&&i.info[t];return!!(a&&(e&&(a=a[e]),a&&Object.keys(a).length))&&(s(a),!0)};a()||i.on(`info:${t}`,a)}}))},176:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"prices",class:{"prices--literal":t.isLiteral,"prices--big":t.isBig}},[t.comparePrice?s("span",{staticClass:"prices__compare"},[t.isLiteral?[s("small",[t._v(" "+t._s(t.i19from)+" ")]),s("s",[t._v(t._s(t.formatMoney(t.comparePrice)))]),s("small",[t._v(" "+t._s(t.i19to)+" ")])]:s("s",[t._v(t._s(t.formatMoney(t.comparePrice)))])],2):t._e(),s("strong",{staticClass:"prices__value"},[t.hasVariedPrices?s("small",[t._v(" "+t._s(t.i19asOf)+" ")]):t._e(),t._v(" "+t._s(t.formatMoney(t.price))+" "),s("small",[t._v("no Boleto")])]),s("transition-group",{attrs:{"enter-active-class":"animated slideInDown"}},[t.earnPointsFactor>0&&!(t.pointsMinPrice>t.price)?s("div",{key:"points",staticClass:"prices__points"},[s("i",{staticClass:"i-check-circle"}),t._v(" "+t._s(t.i19youEarn)+" "),s("span",[t._v(" +"+t._s((t.earnPointsFactor*t.price).toFixed(1))+" ")]),s("em",[t._v(t._s(t.pointsProgramName))])]):t._e(),t.installmentsNumber>1&&t.installmentValue?s("div",{key:"installments",staticClass:"prices__installments"},[t.isLiteral?s("small",[t._v(" "+t._s(t.i19upTo)+" ")]):t._e(),t._v(" "+t._s(t.installmentsNumber)+"x "),t.isLiteral?s("small",[t._v(" "+t._s(t.i19of)+" ")]):t._e(),s("span",[t._v(" "+t._s(t.formatMoney(t.installmentValue))+" ")]),!t.monthlyInterest&&t.isLiteral?s("small",[t._v(" "+t._s(t.i19interestFree)+" ")]):t._e(),t._v(" no cartão de crédito ")]):t._e(),"number"==typeof t.priceWithDiscount&&t.priceWithDiscount<t.price?s("div",{key:"discount",staticClass:"prices__discount"},["string"==typeof t.discountLabel&&t.discountLabel?[s("span",[t._v(" "+t._s(t.formatMoney(t.priceWithDiscount))+" ")]),s("small",{staticClass:"prices__discount-label"},[t._v(" "+t._s(t.discountLabel)+" ")])]:[s("small",[t._v(" "+t._s(t.i19asOf)+" ")]),s("span",[t._v(" "+t._s(t.formatMoney(t.priceWithDiscount))+" ")])]],2):t._e()])],1)},a=[]},188:function(t,e,s){"use strict";var i={name:"ALink",props:{href:String,to:[String,Object]},computed:{isRouter(){return!!this.$router&&(!this.href||Boolean(this.$router.options.routes.find((t=>{let{path:e}=t;return e===this.href}))))}}},a=s(43),n=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.isRouter?"router-link":"a",{tag:"component",attrs:{href:t.isRouter?null:t.href,to:t.isRouter?t.to||t.href:null}},[t._t("default")],2)}),[],!1,null,null,null);e.a=n.exports},189:function(t,e,s){var i=s(218);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(173).default)("3ee73d0c",i,!0,{})},190:function(t,e,s){"use strict";var i=s(176),a=s(169),n=(s(174),s(43)),r=Object(n.a)(a.a,i.a,i.b,!1,null,null,null);e.a=r.exports},191:function(t,e,s){"use strict";s(4),s(23);var i=s(25),a=s(88),n=s(42);var r={name:"APicture",props:{src:[String,Object],fallbackSrc:String,alt:String,canCalcHeight:{type:Boolean,default:!0},placeholder:{type:String,default:"/assets/img-placeholder.png"},containerBreakpoints:{type:Object,default:()=>({zoom:null,big:800,[i.$ecomConfig.get("default_img_size")||"normal"]:400})},lozadOptions:{type:Object,default:()=>({rootMargin:"350px 0px",threshold:0})}},data:()=>({sources:[],imgWidth:0,imgHeight:0,height:null,opacity:null}),computed:{defaultImgObj(){return"object"==typeof this.src&&this.src?Object(a.a)(this.src)||this.src:{}},localFallbackSrc(){const{src:t,defaultImgObj:e,fallbackSrc:s}=this;if(s)return s;const i="object"==typeof t?t.zoom?t.zoom.url:e.url:t;return i?i.replace(/\.webp$/,""):this.placeholder},localAlt(){const{alt:t,src:e,defaultImgObj:s}=this;return t||(e?s.alt||"Product":"No image")}},methods:{updateSources(){const t=[];let e;if("object"==typeof this.src){const{clientWidth:t,clientHeight:s}=this.$el,i=((t,e,s,i)=>{let a,n;for(const r in i){const o=i[r];if(void 0!==o&&t[r]){if(void 0!==n)if(null===o){if(n>=e)continue}else if(o<e||o-50<=s||null!==n&&o>n)continue;a=r,n=o}}return a})(this.src,t,s,this.containerBreakpoints),a=this.src[i],{url:n,size:r}=a||this.defaultImgObj;e=n,r&&([this.imgWidth,this.imgHeight]=r.split("x").map((t=>parseInt(t,10))),t&&this.imgHeight&&this.canCalcHeight&&(this.height=(t>=this.imgWidth?this.imgHeight:t*this.imgHeight/this.imgWidth)+"px"))}else e=this.src;e&&(e.endsWith(".webp")?t.push({srcset:e,type:"image/webp"},{srcset:/\/imgs\/[0-9]{3}px/.test(e)?e.replace(/\/imgs\/[0-9]{3}px/,""):e.replace(/\.webp$/,""),type:"image/"+(".png"===e.substr(-9,4)?"png":"jpeg")}):t.push({srcset:e})),this.sources=t}},mounted(){this.updateSources(),this.$nextTick((()=>{const t=this.$el;Object(n.a)(t,{...this.lozadOptions,loaded:t=>{const{localFallbackSrc:e}=this,s="IMG"===t.tagName?t:t.lastChild;s.style.opacity=0,this.imgHeight&&(s.height=this.imgHeight,s.width=this.imgWidth),s.onerror=function(){console.error(new Error("Image load error"),this),t.style.display="none";const s=document.createElement("IMG");s.src=e,t.parentNode.insertBefore(s,t.nextSibling)},s.onload=()=>{this.opacity=0,t.classList.add("loaded"),this.$nextTick((()=>{this.opacity=s.style.opacity=null,this.$emit("load")}))}}}).observe()}))}},o=(s(174),s(43)),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("picture",{staticClass:"picture",style:{height:t.height,opacity:t.opacity},attrs:{"data-iesrc":t.localFallbackSrc,"data-alt":t.localAlt}},[t.sources.length?t._l(t.sources,(function(t,e){var i=t.srcset,a=t.type;return s("source",{key:e,attrs:{srcset:i,type:a}})})):s("source",{attrs:{srcset:t.localFallbackSrc}})],2)}),[],!1,null,null,null);e.a=c.exports},218:function(t,e,s){(e=s(172)(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"empty.scss"}]),t.exports=e},242:function(t,e,s){var i=s(255);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(173).default)("3c5ae6b6",i,!0,{})},244:function(t,e,s){"use strict";var i=s(22),a=s(32),n=s(77),r={name:"ShippingLine",props:{shippingLine:{type:Object,required:!0},productionDeadline:{type:Number,default:0}},computed:{deadlineStr(){const t=this.shippingLine,e=t.posting_deadline&&t.posting_deadline.working_days||t.delivery_time&&t.delivery_time.working_days;let s=t.posting_deadline?t.posting_deadline.days:0;return t.delivery_time&&(s+=t.delivery_time.days),s+=this.productionDeadline,s>1?`${Object(a.a)(i.je)} ${s} `+Object(a.a)(e?i.qe:i.db).toLowerCase():Object(a.a)(1===s?i.ie:t.pick_up?i.Uc:i.fd)},freightValueStr(){const{shippingLine:t}=this,e="number"==typeof t.total_price?t.total_price:t.price;return e?Object(n.a)(e):Object(a.a)(t.pick_up?i.yb:i.zb)}}},o=(s(254),s(43)),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shipping-line"},[s("strong",{staticClass:"mr-2"},[t._v(" "+t._s(t.deadlineStr)+" ")]),s("span",{staticClass:"mr-2"},[t._v(" "+t._s(t.freightValueStr)+" ")]),t.shippingLine.delivery_instructions?s("small",[t._v(" "+t._s(t.shippingLine.delivery_instructions)+" ")]):t._e()])}),[],!1,null,null,null);e.a=c.exports},254:function(t,e,s){"use strict";s(242)},255:function(t,e,s){(e=s(172)(!0)).push([t.i,".shipping-line>strong{display:inline-block;min-width:120px}.shipping-line>span{display:inline-block}.shipping-line>small{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:var(--text-muted);display:block;display:-webkit-box;line-height:var(--line-height-sm);overflow:hidden}","",{version:3,sources:["ShippingLine.scss"],names:[],mappings:"AAAA,sBAAsB,oBAAoB,CAAC,eAAe,CAAC,oBAAoB,oBAAoB,CAAC,qBAAqB,oBAAoB,CAAC,2BAA2B,CAAC,uBAAuB,CAAC,aAAa,CAAC,mBAAmB,CAAC,iCAAiC,CAAC,eAAe",file:"ShippingLine.scss",sourcesContent:[".shipping-line>strong{display:inline-block;min-width:120px}.shipping-line>span{display:inline-block}.shipping-line>small{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:var(--text-muted);display:block;display:-webkit-box;line-height:var(--line-height-sm);overflow:hidden}"]}]),t.exports=e},259:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",{staticClass:"summary"},[s("h5",{staticClass:"summary__title"},[t._v(" "+t._s(t.i19summary)+" ")]),t._t("list",(function(){return[t.items?s("div",{staticClass:"summary__list"},t._l(t.items,(function(e){return e.quantity>0?s("div",{key:e._id,staticClass:"summary__item"},[t.getImg(e)?s("a-picture",{attrs:{src:t.getImg(e).url,alt:t.getImg(e).alt||e.name}}):t._e(),s("div",[s("span",{staticClass:"badge badge-secondary"},[t._v(" "+t._s(e.quantity)+" ")]),Array.isArray(e.flags)&&e.flags.includes("freebie")?[s("s",[t._v(t._s(t.formatMoney(t.getPrice(e))))]),s("small",{staticClass:"text-muted"},[s("i",{staticClass:"i-gift ml-2 mr-1"}),t._v(" "+t._s(t.i19freebie)+" ")])]:[t._v(" "+t._s(t.formatMoney(t.getPrice(e)))+" ")],s("br"),e.slug?s("a-link",{attrs:{href:"/"+e.slug,target:"_blank"}},[s("small",[t._v(t._s(t.getName(e)))])]):s("small",[t._v(" "+t._s(t.getName(e))+" ")]),s("item-customizations",{attrs:{item:e}})],2)],1):t._e()})),0):t._e()]})),t._t("more-offers"),t._t("amount",(function(){return[s("div",{staticClass:"summary__amount"},[s("div",{staticClass:"summary__amount__row",attrs:{"data-subtotal":t.amount.subtotal.toFixed(2)}},[s("span",[t._v(t._s(t.i19subtotal))]),s("div",[t._v(t._s(t.formatMoney(t.amount.subtotal)))])]),s("div",{staticClass:"summary__amount__row",attrs:{"data-freight":t.amount.freight.toFixed(2)}},[s("span",[t._v(" "+t._s(t.i19freight)+" "),t.shippingAddress?s("small",[t._v(" "+t._s(t.shippingAddress.street)+" "),t.shippingAddress.number?[t._v(" "+t._s(t.shippingAddress.number)+" ")]:t._e(),t._v(" "+t._s(t.shippingAddress.city)+" "+t._s(t.shippingAddress.province_code)+" ")],2):t._e()]),s("div",[t._v(t._s(t.formatMoney(t.amount.freight)))])]),t.amount.discount>0?s("div",{staticClass:"summary__amount__row",attrs:{"data-discount":t.amount.discount.toFixed(2)}},[s("span",[t._v(t._s(t.i19discount))]),s("div",[t._v(t._s(t.formatMoney(t.amount.discount)))])]):t._e(),t.amount.discount<0?s("div",{staticClass:"summary__amount__row",attrs:{"data-discount":t.amount.discount.toFixed(2)}},[s("span",[t._v("Acréscimo")]),s("div",[t._v(t._s(t.formatMoney(-1*t.amount.discount)))])]):t._e(),t.amount.extra?s("div",{staticClass:"summary__amount__row",attrs:{"data-extra":t.amount.extra.toFixed(2)}},[s("span",[t._v(" Extra ")]),s("div",[t._v(t._s(t.formatMoney(t.amount.extrat)))])]):t._e(),t.amount.balance?s("div",{staticClass:"summary__amount__row",attrs:{"data-balance":t.amount.balance.toFixed(2)}},[s("span",[t._v(t._s(t.i19balanceOrPoints))]),s("div",[t._v(t._s(t.formatMoney(t.amount.balance)))])]):t._e(),t.paidInAdvance>0?s("div",{staticClass:"summary__amount__row"},[s("span",[t._v(t._s(t.i19total))]),s("div",[t._v(t._s(t.formatMoney(t.amount.total)))])]):t._e(),t._t("amount-custom"),s("div",{staticClass:"summary__amount__row summary__amount__row--total",attrs:{"data-total":t.amountToPay.toFixed(2)}},[s("span",[t._v(t._s(t.paidInAdvance?t.i19toPay:t.i19total))]),s("a-prices",{attrs:{product:{price:t.amountToPay},"discount-option":{value:t.amount.discount},"is-literal":!0,"is-amount-total":!0,"can-show-price-options":t.canShowPriceOptions}})],1)],2)]})),t._t("default"),t._t("buyer",(function(){return[t.buyer?s("div",{staticClass:"summary__buyer"},[s("h5",[t._v(t._s(t.i19buyer))]),s("p",[t._v(" "+t._s(t.buyerName)+" "),s("br"),s("small",[t._v(t._s(t.i19docNumber)+":")]),s("span",[t._v(t._s(t.buyer.doc_number))]),s("br"),s("small",[t._v(t._s(t.i19contactPhone)+":")]),s("span",[t._v(t._s(t.buyerPhone))]),s("br"),s("small",[t._v(t._s(t.buyer.main_email))])]),s("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.$emit("click:account")}}},[s("i",{staticClass:"i-pencil mr-1"}),t._v(" "+t._s(t.i19myAccount)+" ")])]):t._e()]}))],2)},a=[]},400:function(t,e,s){"use strict";s.r(e);s(4);var i=s(106),a=s(8),n=s(27),r=s(171),o={name:"confirmation",components:{EcOrderInfo:s(274).a},data:()=>({canUpsertCart:!0}),computed:{...Object(i.c)(["orders","customer"]),orderId(){return this.$route.params.id},order:{get(){return this.orders.find((t=>{let{_id:e}=t;return e===this.orderId}))||{_id:this.orderId}},set(t){if(t&&t._id===this.orderId){const e=this.orders.concat(),s=e.find((e=>{let{_id:s}=e;return s===t._id}));s?Object.assign(s,t):e.push(t),this.setOrders(e),this.$route.params.json||this.$router.push({params:{json:encodeURIComponent(JSON.stringify(t))}})}}}},methods:{...Object(i.d)(["addOrder","setOrders","resetCart"]),...Object(i.b)(["saveCustomer"]),handleUpsertCart(){if(this.canUpsertCart){this.canUpsertCart=!1;const{status:t}=this.order;t&&"cancelled"!==t&&(a.a.data.completed=!0,this.orderId&&(a.a.data.orders||(a.a.data.orders=[]),a.a.data.orders.push(this.orderId)),Object(r.c)().then(this.resetCart))}}},created(){const{customer:t}=this;n.a.checkAuthorization()||t.main_email&&t.doc_number&&n.a.fetchLogin(t.main_email,t.doc_number).then((()=>{this.saveCustomer({ecomPassport:n.a}),this.handleUpsertCart()}))},mounted(){n.a.checkAuthorization()&&this.handleUpsertCart()}},c=s(43),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"confirmation"}},[s("ec-order-info",{attrs:{order:t.order,isNew:!0},on:{"update:order":function(e){t.order=e}}})],1)}),[],!1,null,null,null);e.default=l.exports}}]);